@model Claim

<h2>Lecturer Dashboard - Submit Claim</h2>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success" role="alert">
        @TempData["SuccessMessage"]
    </div>
}

<form asp-action="SubmitClaim" method="post" enctype="multipart/form-data">
    <div>
        <label for="LecturerName">Lecturer Name:</label>
        <input type="text" id="LecturerName" name="LecturerName" required />
    </div>
    <div>
        <label for="HoursWorked">Hours Worked:</label>
        <input type="number" id="HoursWorked" name="HoursWorked" required oninput="updateTotalClaim()" />
    </div>
    <div>
        <label for="HourlyRate">Hourly Rate:</label>
        <input type="number" id="HourlyRate" name="HourlyRate" required oninput="updateTotalClaim()" />
    </div>
    <div>
        <label for="Notes">Notes:</label>
        <textarea id="Notes" name="Notes"></textarea>
    </div>
    <div>
        <label for="SupportingDocument">Supporting Document:</label>
        <input type="file" id="SupportingDocument" name="SupportingDocument" accept=".png,.jpg,.jpeg,.pdf" />
    </div>
    <div>
        <label>Total Claim:</label>
        <span id="TotalClaim">R 0</span> <!-- Added "R" here -->
    </div>
    <button type="submit">Submit</button>
</form>

<script>
    function updateTotalClaim() {
        var hours = document.getElementById("HoursWorked").value;
        var rate = document.getElementById("HourlyRate").value;
        var total = hours * rate;
        document.getElementById("TotalClaim").innerText = "R " + (total.toFixed(2) || 0); // Added "R" and formatting
    }
</script>
